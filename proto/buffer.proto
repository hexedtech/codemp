syntax = "proto2";

import "common.proto";

package buffer;

// handle buffer changes, keep in sync users
service Buffer {
  // attach to a buffer and receive operations
  rpc Attach (stream Operation) returns (stream BufferEvent);
}

message Operation {
  required bytes data = 1;
}

message BufferEvent {
	required Operation op = 1;
	required common.Identity user = 2;
}
