[package]
name = "codemp"
version = "0.6.0"
edition = "2021"

[lib]
name = "codemp"

[dependencies]
# core
tracing = "0.1"
# woot
codemp-woot = { git = "ssh://git@github.com/codewithotherpeopleandchangenamelater/woot.git", features = ["serde"], tag = "v0.1.2" }
# proto
codemp-proto = { git = "ssh://git@github.com/codewithotherpeopleandchangenamelater/codemp-proto.git", tag = "v0.6.1" }
uuid = { version = "1.7", features = ["v4"] }
tonic = { version = "0.11.0", features = ["tls", "tls-roots"] }
# api
similar = { version = "2.2", features = ["inline"] }
tokio = { version = "1.0", features = ["macros", "rt-multi-thread", "sync"] }
async-trait = { version = "0.1" }
# client
md5 = { version = "0.7.0" }
serde_json = { version = "1" }
tokio-stream = { version = "0.1" }
serde = { version = "1.0.193", features = ["derive"] }
dashmap = { version = "5.5.3" }
postcard = { version = "1.0.8" }
#java
jni = { version = "0.21.1", features = ["invocation"], optional = true }
jni-sys = { version = "0.3.0", optional = true }
rifgen = { git = "https://github.com/Kofituo/rifgen.git", rev = "d27d9785b2febcf5527f1deb6a846be5d583f7d7", optional = true }
lazy_static = {version = "1.4.0", optional = true }
log = { version = "0.4.21", optional = true }

[build-dependencies]
# java
flapigen = { version = "0.6.0", optional = true }
rifgen = { git = "https://github.com/Kofituo/rifgen.git", rev = "d27d9785b2febcf5527f1deb6a846be5d583f7d7", optional = true }

[features]
default = []
java = ["lazy_static", "jni", "jni-sys", "flapigen", "rifgen", "log"]
